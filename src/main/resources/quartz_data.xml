<?xml version="1.0" encoding="UTF-8"?>

<job-scheduling-data
    xmlns="http://www.quartz-scheduler.org/xml/JobSchedulingData"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.quartz-scheduler.org/xml/JobSchedulingData http://www.quartz-scheduler.org/xml/job_scheduling_data_2_0.xsd"
    version="1.8">

    <processing-directives>
        <overwrite-existing-data>false</overwrite-existing-data>
        <ignore-duplicates>true</ignore-duplicates> 
    </processing-directives>
    
    <!--主要工作job，把資料轉換到TXT控制燈號-->
    <schedule>
        <job>
            <name>DailyJobWorker</name>
            <job-class>com.advantech.quartzJob.DailyJobWorker</job-class>
        </job>
        <trigger>
            <cron>
                <name>DailyJobWorker</name>
                <job-name>DailyJobWorker</job-name>
                <!--<misfire-instruction>MISFIRE_INSTRUCTION_FIRE_ONCE_NOW</misfire-instruction>-->
                <cron-expression>0/30 * 8-21 ? * MON-SAT *</cron-expression>
            </cron>
        </trigger>
    </schedule>
    
    <!--清理資料庫job-->
    <schedule>
        <job>
            <name>DataBaseInit</name>
            <job-class>com.advantech.quartzJob.DataBaseInit</job-class>
        </job>
        <trigger>
            <cron>
                <name>DataBaseInit</name>
                <job-name>DataBaseInit</job-name>
                <cron-expression>0 30 6,21 ? * MON-SAT *</cron-expression>
            </cron>
        </trigger>
    </schedule>
    
    <!--晚上十點把未完結工單做儲存的job-->
    <schedule>
        <job>
            <name>SaveBABDataToDB</name>
            <job-class>com.advantech.quartzJob.BABDataSaver</job-class>
        </job>
        <trigger>
            <cron>
                <name>SaveBABDataToDB</name>
                <job-name>SaveBABDataToDB</job-name>
                <cron-expression>0 0 12,16,22 ? * MON-SAT *</cron-expression>
            </cron>
        </trigger>
    </schedule>
    
    
    <!--定時查看sensor是否異常，回報-->
    <schedule>
        <job>
            <name>CheckSensor</name>
            <job-class>com.advantech.quartzJob.CheckSensor</job-class>
        </job>
        <trigger>
            <cron>
                <name>CheckSensor</name>
                <job-name>CheckSensor</job-name>
                <cron-expression>0 0,30 9-16 ? * MON-SAT *</cron-expression>
            </cron>
        </trigger>
    </schedule>
    
    
    <!--把測試線別狀態記錄到資料庫-->
<!--    <schedule>
        <job>
            <name>TestLineTypeRecord</name>
            <job-class>com.advantech.quartzJob.TestLineTypeRecord</job-class>
        </job>
        <trigger>
            <cron>
                <name>TestLineTypeRecord</name>
                <job-name>TestLineTypeRecord</job-name>
                <cron-expression>0 50 9-16 ? * MON-FRI *</cron-expression>
            </cron>
        </trigger>
    </schedule>-->
    
    <!--每日把未回覆異常原因的回覆給幹部-->
    <schedule>
        <job>
            <name>CountermeasureAlarm</name>
            <job-class>com.advantech.quartzJob.CountermeasureAlarm</job-class>
        </job>
        <trigger>
            <cron>
                <name>CountermeasureAlarm</name>
                <job-name>CountermeasureAlarm</job-name>
                <cron-expression>0 0 11,16 ? * MON-FRI *</cron-expression>
            </cron>
        </trigger>
    </schedule>
    
</job-scheduling-data>